<mat-accordion>
  Available books:
  <div *ngFor="let book of books">
    <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{book}}
        </mat-panel-title>
        <mat-panel-description>
          {{book}}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <p>{{book}}</p>
    </mat-expansion-panel>
  </div>

  <div>
    <form (ngSubmit)="onSubmit(form)" #form="ngForm">
      <mat-form-field appearance="fill">
        <mat-label>Title</mat-label>
        <input matInput type="text" name="title" ngModel required #title="ngModel">
        <mat-error *ngIf="title.invalid">Please enter a title</mat-error>
      </mat-form-field>
      <div></div>
      <mat-form-field appearance="fill">
        <mat-label>Author</mat-label>
        <input matInput type="text" name="author" ngModel required #author="ngModel">
        <mat-error *ngIf="author.invalid">Please enter an author</mat-error>
      </mat-form-field>
      <div></div>
      <mat-form-field appearance="fill">
        <mat-label>Description</mat-label>
        <textarea matInput type="text" name="description" ngModel required #description="ngModel"></textarea>
        <mat-error *ngIf="description.invalid">Please enter a description</mat-error>
      </mat-form-field>
      <div></div>
      <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid">Add</button>
    </form>

  </div>

</mat-accordion>
